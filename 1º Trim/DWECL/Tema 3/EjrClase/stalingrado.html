<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stalingrado</title>
</head>

<body>
    <script>
        let mapa = [['G', '', 'R', '', '', ''],
                    ['G', '', 'R', '', '', ''],
                    ['G', '', 'R', '', '', ''],
                    ['', '', 'R', '', '', ''],
                    ['', '', 'R', '', '', 'G']];

        console.log(stalingrado(mapa, 0, 0));

        function stalingrado(array, x, y) {
            // Si se sale de los límites de la matriz, los Rusos ganan
            if (x < 0 || x >= array.length || y < 0 || y >= array[x].length) {
                return "Rusos ganan";
            }

            // Si la celda está vacía o bloqueada por "R", los Rusos ganan
            if (array[x][y] === "R") {
                return "Rusos ganan";
            }

            // Si llega a la meta en la esquina inferior derecha, los Alemanes ganan
            if (x === array.length - 1 && y === array[0].length - 1 && array[x][y] === "G") {
                return "Alemanes ganan";
            }

            // Marcar la celda como visitada
            array[x][y] = "$";

            // Intentar moverse en las cuatro direcciones
            if (x - 1 >= 0 && array[x - 1][y] !== "$") { // Arriba
                let resultado = stalingrado(array, x - 1, y);
                if (resultado === "Alemanes ganan") return resultado;
            }

            if (x + 1 < array.length && array[x + 1][y] !== "$") { // Abajo
                let resultado = stalingrado(array, x + 1, y);
                if (resultado === "Alemanes ganan") return resultado;
            }

            if (y - 1 >= 0 && array[x][y - 1] !== "$") { // Izquierda
                let resultado = stalingrado(array, x, y - 1);
                if (resultado === "Alemanes ganan") return resultado;
            }

            if (y + 1 < array[x].length && array[x][y + 1] !== "$") { // Derecha
                let resultado = stalingrado(array, x, y + 1);
                if (resultado === "Alemanes ganan") return resultado;
            }

            console.log(array);
            // Si no se encuentra un camino hacia la victoria, los Rusos ganan
            return "Rusos ganan";
        }
    </script>
</body>

</html>
